# Страница поиска книг (BookSearchPage)

## Описание
Страница поиска книг для электронного каталога библиотеки. Позволяет пользователям искать книги по различным критериям.

## Структура файлов
```
BookSearchPage/
├── BookSearchPage.js          # Основная страница
├── BookSearchPage.scss        # Стили страницы
├── components/
│   ├── SearchForm/
│   │   ├── SearchForm.js      # Компонент простого поиска
│   │   └── SearchForm.scss    # Стили простого поиска
│   ├── AdvancedSearchForm/
│   │   ├── AdvancedSearchForm.js   # Компонент расширенного поиска
│   │   └── AdvancedSearchForm.scss # Стили расширенного поиска
│   ├── SearchResults/
│   │   ├── SearchResults.js   # Компонент результатов поиска
│   │   └── SearchResults.scss # Стили результатов
│   └── BookCard/
│       ├── BookCard.js        # Компонент карточки книги
│       └── BookCard.scss      # Стили карточки книги
└── README.md                  # Этот файл
```

## Функциональность

### Простой поиск (SearchForm)
- Выпадающий список для выбора поля поиска:
  - **Барлық жолдар** - поиск по всем полям одновременно
  - **Кілт сөздер** - поиск по ключевым словам (название, содержание, примечания)
  - **Автор** - поиск по автору
  - **Атауы** - поиск по названию
  - **Баспа** - поиск по издательству
  - **Басылымның шыққан жылы** - поиск по году издания (например: "1890", "1950")
  - **Тақырыптама** - поиск по тематике/UDC кодам (например: "1", "3", "5")
  - **Жанр** - поиск по жанру литературы
  - И другие поля...
- Поле ввода для поискового запроса
- Золотистая кнопка поиска
- Поддержка разных типов поиска (простой, полнотекстовый, UDC)

### Расширенный поиск (AdvancedSearchForm)
- Множественные строки поиска с выпадающими списками полей
- Логические операторы: ЖӘНЕ (AND), НЕМЕСЕ (OR), ЖОҚ (NOT)
- Фильтрация по годам публикации
- Выбор языка документа
- Выбор формата просмотра
- Выбор количества результатов
- Кнопки добавления/удаления строк поиска

### Карточка книги (BookCard)
- Отображение основной информации о книге
- Статус доступности (Бос/Занят)
- Кнопки действий (Оқырман залы, Электронды көшірме, Таңдалғандар)
- Дополнительная информация (ID, тип, язык)

### Результаты поиска (SearchResults)
- Список найденных книг
- Состояние загрузки со спиннером
- Сообщение при отсутствии результатов

## API

### BookSearchApi
Файл: `src/api/bookSearchApi.js`

Подключен к реальному backend: `http://localhost:4000`

Методы:
- `search(data)` - поиск книг (POST /view/Search)
- `getSearchFields(lang)` - получение полей поиска (GET /view/SearchFieldList)
- `getSuggestions(fieldName, searchText)` - получение подсказок (GET /view/Suggest)

### Поддерживаемые типы поиска:
- **SIMPLE** - простой поиск с выбором поля (автор, название, издательство и т.д.)
- **ADVANCED** - расширенный поиск с множественными условиями и логическими операторами
- **FULLTEXT** - полнотекстовый поиск по всему содержимому
- **UDC** - поиск по Универсальной десятичной классификации (коды 0-9)

### Исправленные проблемы
- ✅ **UDC поиск**: Теперь правильно использует поле `topic` вместо `udc`
- ✅ **Структура данных**: Соответствует Java backend (`nabrk-portal-elcat`)
- ✅ **Обработка ошибок**: Добавлена валидация данных перед отправкой
- ✅ **Разнообразие данных**: Добавлены книги с разными UDC кодами для тестирования

## Маршрут
Страница доступна по адресу: `/book-search`

## Макет и стили
Макет соответствует официальному сайту NABRK с использованием цветов проекта:
- **Верхние табы** с типами поиска (золотистые активные, серые неактивные)
- **Простой поиск**: выпадающий список + поле ввода + золотистая кнопка
- **Расширенный поиск**: множественные строки с логическими операторами
- **Цвета**: основной цвет проекта `var(--main-color)` (#d2ac2d), серые элементы
- **Ограничение ширины**: max-width 1200px для лучшего UX
- **Адаптивный дизайн** для всех устройств

## Адаптивность
Все компоненты адаптированы для мобильных устройств с использованием медиа-запросов.

## Использование

### Добавление в навигацию
Ссылка уже добавлена в основной Header компонент:
```jsx
<a href="/book-search" className="main-header__nav-item">
  Поиск книг
</a>
```

### Интеграция с реальным API
Для подключения к реальному API замените моковые данные в `BookSearchApi.search()` на реальные HTTP запросы.

## Примеры поиска

### Простой поиск
- **Барлық жолдар + "Абай"** - найдет книги с "Абай" в любом поле
- **Автор + "Пушкин"** - найдет книги Пушкина
- **Кілт сөздер + "философия"** - найдет книги с философской тематикой
- **Атауы + "Война"** - найдет книги с "Война" в названии
- **Басылымның шыққан жылы + "1890"** - найдет книги, изданные в 1890 году
- **Тақырыптама + "3"** - найдет книги по общественным наукам (UDC код 3)

### UDC поиск
- "1" - Философия. Психология (Фрейд, Юнг, Ницше, Сартр)
- "3" - Общественные науки (художественная литература)
- "5" - Математика и естественные науки (Ньютон, Эйнштейн, Дарвин)

### Полнотекстовый поиск
- "грамматика" - найдет учебники по грамматике
- "философия" - найдет философские труды
- "наука" - найдет научные работы

## Расширенный поиск
- Поиск по автору: выберите "Автор" и введите имя
- Поиск по издательству: выберите "Баспа" и введите название
- Фильтрация по годам: укажите диапазон лет
- Комбинированный поиск: используйте несколько полей с операторами И/ИЛИ/НЕ
